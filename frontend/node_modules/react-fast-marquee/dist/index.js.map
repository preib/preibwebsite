{"version":3,"file":"index.js","sources":["../src/components/Marquee.tsx"],"sourcesContent":["import React, { Fragment, useEffect, useState, useRef } from \"react\";\nimport \"./Marquee.scss\";\n\ninterface MarqueeProps {\n  /**\n   * Inline style for the container div\n   * Type: object\n   * Default: {}\n   */\n  style?: React.CSSProperties;\n  /**\n   * Class name to style the container div\n   * Type: string\n   * Default: \"\"\n   */\n  className?: string;\n  /**\n   * Whether to play or pause the marquee\n   * Type: boolean\n   * Default: true\n   */\n  play?: boolean;\n  /**\n   * Whether to pause the marquee when hovered\n   * Type: boolean\n   * Default: false\n   */\n  pauseOnHover?: boolean;\n  /**\n   * Whether to pause the marquee when clicked\n   * Type: boolean\n   * Default: false\n   */\n  pauseOnClick?: boolean;\n  /**\n   * The direction the marquee is sliding\n   * Type: \"left\" or \"right\"\n   * Default: \"left\"\n   */\n  direction?: \"left\" | \"right\";\n  /**\n   * Speed calculated as pixels/second\n   * Type: number\n   * Default: 20\n   */\n  speed?: number;\n  /**\n   * Duration to delay the animation after render, in seconds\n   * Type: number\n   * Default: 0\n   */\n  delay?: number;\n  /**\n   * Whether to show the gradient or not\n   * Type: boolean\n   * Default: true\n   */\n  gradient?: boolean;\n  /**\n   * The rgb color of the gradient as an array of length 3\n   * Type: Array<number> of length 3\n   * Default: [255, 255, 255]\n   */\n  gradientColor?: [number, number, number];\n  /**\n   * The width of the gradient on either side\n   * Type: string\n   * Default: 200\n   */\n  gradientWidth?: number | string;\n  /**\n   * The children rendered inside the marquee\n   * Type: ReactNode\n   * Default: null\n   */\n  children?: React.ReactNode;\n  /**\n   * The number of times the marquee should loop, 0 is equivalent to infinite\n   * Type: number\n   * Default: 0\n   */\n   loop?: number;\n}\n\nconst Marquee: React.FC<MarqueeProps> = ({\n  style = {},\n  className = \"\",\n  play = true,\n  pauseOnHover = false,\n  pauseOnClick = false,\n  direction = \"left\",\n  speed = 20,\n  delay = 0,\n  gradient = true,\n  gradientColor = [255, 255, 255],\n  gradientWidth = 200,\n  children,\n  loop = 0\n}) => {\n  // React Hooks\n  const [containerWidth, setContainerWidth] = useState(0);\n  const [marqueeWidth, setMarqueeWidth] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const [isMounted, setIsMounted] = useState(false);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const marqueeRef = useRef<HTMLDivElement>(null);\n\n  const calculateWidth = () => {\n    // Find width of container and width of marquee\n    if (marqueeRef.current && containerRef.current) {\n      setContainerWidth(containerRef.current.getBoundingClientRect().width);\n      setMarqueeWidth(marqueeRef.current.getBoundingClientRect().width);\n    }\n\n    if (marqueeWidth < containerWidth) {\n      setDuration(containerWidth / speed);\n    } else {\n      setDuration(marqueeWidth / speed);\n    }\n  };\n\n  useEffect(() => {\n    calculateWidth();\n    // Rerender on window resize\n    window.addEventListener(\"resize\", calculateWidth);\n    return () => {\n      window.removeEventListener(\"resize\", calculateWidth);\n    };\n  });\n\n  useEffect(() => {\n    setIsMounted(true);\n  }, []);\n\n  // Gradient color in an unfinished rgba format\n  const rgbaGradientColor = `rgba(${gradientColor[0]}, ${gradientColor[1]}, ${gradientColor[2]}`;\n\n  return (\n    <Fragment>\n      {!isMounted ? null : (\n        <div\n          ref={containerRef}\n          style={{\n            ...style,\n            [\"--pause-on-hover\" as string]: pauseOnHover ? \"paused\" : \"running\",\n            [\"--pause-on-click\" as string]: pauseOnClick ? \"paused\" : \"running\",\n          }}\n          className={className + \" marquee-container\"}\n        >\n          {gradient && (\n            <div\n              style={{\n                [\"--gradient-color\" as string]: `${rgbaGradientColor}, 1), ${rgbaGradientColor}, 0)`,\n                [\"--gradient-width\" as string]:\n                  typeof gradientWidth === \"number\"\n                    ? `${gradientWidth}px`\n                    : gradientWidth,\n              }}\n              className=\"overlay\"\n            />\n          )}\n          <div\n            ref={marqueeRef}\n            style={{\n              [\"--play\" as string]: play ? \"running\" : \"paused\",\n              [\"--direction\" as string]:\n                direction === \"left\" ? \"normal\" : \"reverse\",\n              [\"--duration\" as string]: `${duration}s`,\n              [\"--delay\" as string]: `${delay}s`,\n              [\"--iteration-count\" as string]: !!loop ? `${loop}` : \"infinite\",\n            }}\n            className=\"marquee\"\n          >\n            {children}\n          </div>\n          <div\n            style={{\n              [\"--play\" as string]: play ? \"running\" : \"paused\",\n              [\"--direction\" as string]:\n                direction === \"left\" ? \"normal\" : \"reverse\",\n              [\"--duration\" as string]: `${duration}s`,\n              [\"--delay\" as string]: `${delay}s`,\n              [\"--iteration-count\" as string]: !!loop ? `${loop}` : \"infinite\",\n            }}\n            className=\"marquee\"\n          >\n            {children}\n          </div>\n        </div>\n      )}\n    </Fragment>\n  );\n};\n\nexport default Marquee;\n"],"names":["useState","useRef","useEffect","React","Fragment"],"mappings":"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"}